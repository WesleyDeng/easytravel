<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:context="http://www.springframework.org/schema/context"
	xmlns:security="http://www.springframework.org/schema/security"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
		http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.0.xsd
		http://www.springframework.org/schema/security http://www.springframework.org/schema/security/spring-security-3.1.xsd">

	<security:http>
		<security:intercept-url pattern="/secured/**"
			access="ROLE_USER" />
		<security:form-login authentication-failure-url="/login.xhtml?authentication_error=true"
			default-target-url="/secured/home.xhtml" login-page="/login.xhtml"
			login-processing-url="/login.do" username-parameter="username"
			password-parameter="password" />
		<security:logout logout-success-url="/" logout-url="/logout.do" />
	</security:http>
	<security:authentication-manager
		xmlns="http://www.springframework.org/schema/security">
		<security:authentication-provider>
			<security:user-service>
				<security:user name="armandorv" password="secret"
					authorities="ROLE_USER" />
				<security:user name="sam" password="kangaroo"
					authorities="ROLE_USER" />
			</security:user-service>
		</security:authentication-provider>
	</security:authentication-manager>

	<!-- <security:http>
		<security:intercept-url pattern="/secured/**"
			access="ROLE_USER" />
		<security:openid-login />
		<security:openid-login login-page="/login.xhtml" authentication-failure-url="/login.xhtml?authentication_error=true" 
			default-target-url="/secured/home.xhtml" user-service-ref="googleOpenIdUserDetailsService"> 
			<security:attribute-exchange> <security:openid-attribute name="axContactEmail" 
			type="http://axschema.org/contact/email" required="true" /> <security:openid-attribute 
			name="oiContactEmail" type="http://schema.openid.net/contact/email" required="true" 
			/> <security:openid-attribute name="axNamePersonFullname" type="http://axschema.org/namePerson" 
			required="true" /> <security:openid-attribute name="axNamePersonFriendlyName" 
			type="http://axschema.org/namePerson/friendly" required="true" /> <security:openid-attribute 
			name="axNamePersonFirstName" type="http://axschema.org/namePerson/first" 
			required="true" /> <security:openid-attribute name="axNamePersonLastName" 
			type="http://axschema.org/namePerson/last" required="true" /> </security:attribute-exchange> 
			</security:openid-login>
		<security:logout invalidate-session="true"
			logout-success-url="/" logout-url="/logout.do" />

	</security:http>

	<security:authentication-manager>
		<security:authentication-provider
			user-service-ref="googleOpenIdUserDetailsService">
		</security:authentication-provider>
	</security:authentication-manager>




	<bean id="googleOpenIdUserDetailsService"
		class="com.armandorv.easytravel.web.security.GoogleOpenIdUserDetailsService">
	</bean>



	<beans:bean id="normalizedOpenIdAttributesBuilder" class="pl.touk.storytelling.infrastructure.services.authentication.openId.NormalizedOpenIdAttributesBuilder"> 
		<beans:property name="emailAddressAttributeNames"> <beans:set value-type="java.lang.String"> 
		<beans:value type="java.lang.String">axContactEmail</beans:value> <beans:value 
		type="java.lang.String">oiContactEmail</beans:value> </beans:set> </beans:property> 
		<beans:property name="firstNameAttributeNames"> <beans:set value-type="java.lang.String"> 
		<beans:value type="java.lang.String">axNamePersonFirstName</beans:value> 
		</beans:set> </beans:property> <beans:property name="lastNameAttributeNames"> 
		<beans:set value-type="java.lang.String"> <beans:value type="java.lang.String">axNamePersonLastName</beans:value> 
		</beans:set> </beans:property> </beans:bean>
 -->
</beans>
